<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>YOLO-World Docker 环境配置与使用指南 | Hexo</title><meta name="keywords" content="Yolo_World"><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="YOLO-World Docker 环境配置与使用指南"><meta name="application-name" content="YOLO-World Docker 环境配置与使用指南"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="YOLO-World Docker 环境配置与使用指南"><meta property="og:url" content="http://example.com/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/index.html"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="YOLO-World Docker 环境配置与使用指南 作者：zzy-swimming指导：  目录 #前言 #查看电脑状况 #核心概念与软件清单 #3.1-所需软件组件 #3.2-为什么需要-wsl-2   #安装与配置wsl2 #4.1-启用-wsl-和虚拟机平台功能 #4.2-安装-linux"><meta property="og:locale" content="en"><meta property="og:image" content="https://b9edaf4.webp.li/docs/1760373772666.png"><meta property="article:author" content="John Doe"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://b9edaf4.webp.li/docs/1760373772666.png"><meta name="description" content="YOLO-World Docker 环境配置与使用指南 作者：zzy-swimming指导：  目录 #前言 #查看电脑状况 #核心概念与软件清单 #3.1-所需软件组件 #3.2-为什么需要-wsl-2   #安装与配置wsl2 #4.1-启用-wsl-和虚拟机平台功能 #4.2-安装-linux"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//static.cloudflareinsights.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script defer="defer" data-pjax="data-pjax" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;0fbbcdc21438457c94c4fd9e2ea0dd1f&quot;}"></script><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":null},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"Author: John Doe","link":"Link: ","source":"Source: Hexo","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.","copySuccess":"Copy success, copy and reprint please mark the address of this article"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Hexo',
  title: 'YOLO-World Docker 环境配置与使用指南',
  postAI: '',
  pageFillDescription: 'YOLO-World Docker 环境配置与使用指南, 目录, 1. 前言, 2. 查看电脑状况, 3. 核心概念与软件清单, 3.1 所需软件组件, 3.2 为什么需要 WSL 2, 4. 安装与配置WSL2, 4.1 启用 WSL 和虚拟机平台功能, 4.2 安装 Linux 发行版, 4.3 安装 WSL 2 Linux 内核更新包, 4.4 将 WSL 2 设置为默认版本, 4.5 检查当前WSL状态, 5. 安装 Docker Desktop, 5.1 前提条件, 5.2 下载安装程序, 5.3 安装过程, 5.4 验证安装, 5.5 配置国内镜像加速器, 6. 使用 Docker 复现 YOLO-World, 6.1 拉取 Ultralytics 镜像, 6.2 准备本地目录, 6.3 启动容器并挂载目录, 6.4 CPU推理测试, 6.4.1 普通检测（预定义类别）, 6.4.2 行人检测（自定义类别）, 7. 配置与使用GPU环境, 7.1 在您的主机系统上安装NVIDIA Container Toolkit, 7.2 验证GPU环境, 7.3 使用支持GPU的Docker命令启动容器, 7.3.1 请使用以下新命令来启动容器（别忘了替换您的本地路径）：, 7.3.2 或者使用一个确定存在的、更新的 CUDA 镜像标签。请在你的 WSL Ubuntu 终端中尝试以下命令：, 7.4 使用GPU运行您的YOLO-World脚本, 8. 查看结果, PS：将Ubuntu移动到F盘的操作方法环境配置与使用指南作者指导目录前言查看电脑状况核心概念与软件清单所需软件组件为什么需要安装与配置启用和虚拟机平台功能安装发行版安装内核更新包将设置为默认版本检查当前状态安装前提条件下载安装程序安装过程验证安装配置国内镜像加速器使用复现拉取镜像准备本地目录启动容器并挂载目录推理测试配置与使用环境在您的主机系统上安装验证环境使用支持的命令启动容器使用运行您的脚本查看结果将移动到盘的操作方法前言本文档详细介绍了在系统上配置所需的环境和依赖通过使用和您可以快速搭建一个稳定高效的深度学习环境避免复杂的本地环境配置问题查看电脑状况深度学习的训练对于电脑显卡要求较高若电脑没有独立显卡卡或者是的显卡无法使用进行训练需用进行训练会慢很多若不清楚电脑有无显卡可以打开任务管理器点击性能往下找就可以看到是否有独立显卡不清楚是否为独立显卡则搜索型号核心概念与软件清单所需软件组件一系统功能组件功能用于在上运行环境的核心功能虚拟机平台依赖的底层虚拟化功能二核心软件一个发行版例如从安装的推荐版本如内核更新包确保正常运行的微软官方内核补丁管理和运行容器的主要软件为什么需要在现代系统上运行有两种传统模式已废弃基于虚拟机性能差体验不佳后端使用的虚拟化技术创建轻量级现在官方强烈推荐并默认使用作为后端原因如下性能巨大提升文件系统访问在中对绑定挂载的文件的读写速度远超传统的模式启动时间的启动几乎是瞬时的更好的资源集成可以更智能地与共享内存和存储资源无缝体验可以在终端和的终端之间无缝切换安装与配置启用和虚拟机平台功能以管理员身份打开或命令提示符运行以下命令启用功能启用虚拟机平台功能的核心要求完成后按照提示重启电脑注意您注意到没有重启提示这是因为您使用了参数这个参数的作用是不重启这个参数明确告诉系统完成这个操作后不要自动重启电脑完成后手动重启电脑安装发行版打开应用搜索或等其他发行版选择最新的版本例如点击获取或安装安装完成后从开始菜单启动它设置用户名和密码安装内核更新包访问微软官方下载页面下载并运行安装程序按照提示完成安装问题一实际操作中我把安装发行版这一步骤忘记了在安装内核更新包时出现了如下图所示的报错图片内核更新包安装错误截图错误原因我跳过了安装发行版的步骤直接尝试安装内核更新包但系统检测到您还没有安装任何发行版如所以拒绝安装更新将设置为默认版本打开无需管理员权限输入此命令会告诉系统以后任何新安装的发行版都默认使用检查当前状态在中运行以下命令查看当前的配置检查状态和版本列出已安装的发行版问题二在实际操作过程中我跳过了更新包直接进入下一步安装因为我的系统显示默认版本这证明已经成功启用可能的情况是更新已经自动安装了所需的组件或者安装程序会自动处理剩余依赖目前我仍未可知跳过更新包的具体原因安装前提条件版本及以后或开启中的虚拟化支持确保开启和容器功能下载安装程序访问官网的下载页面下载安装程序选择还是版本的完全取决于您电脑的处理器架构绝大多数电脑都使用架构要最准确地确认您可以按下键输入并按下回车打开命令提示符在黑色的命令提示符窗口中输入并执行查看输出结果如果显示请下载版本如果显示请下载版本安装过程双击下载好的按照安装向导的提示进行所有选项保持默认即可安装完成后重启电脑验证安装重启后在开始菜单中找到并运行等待服务启动系统托盘会出现一只鲸鱼图标打开命令提示符或输入以下命令如果安装成功它会返回的版本号验证和环境是否正确在里运行来测试如果这个命令能成功运行并打印出就证明你的整和环境是完全正常的配置国内镜像加速器为了提升拉取镜像的速度建议配置国内镜像源右键点击任务栏的图标选择在左侧找到菜单在右侧的配置窗口中添加或修改项填入以下国内镜像源之一中国科技大学网易百度点击会保存配置并重启使用复现拉取镜像打开终端执行问题三由于网络问题导致的镜像拉取失败问题三说白了它就是科学上网的问题你如果拥有自己稳定的科学上网的途径直接通过那个途径就我个人在尝试了两种方法之后其实全都遇到了网络方面的问题像方法一里面的他让你更换镜像实际上呢我在更换镜像过后发现那个镜像依然存在问题最终我之所以能成还是因为有维多利亚大学官方提供的虽然这个限速但是我把我的电脑搁这儿跑了一上午也是成功的把它下载下来了鉴于这个网络问题有点抽象我把我下载下来的文件上传到上面了别人可以直接下载链接问题三解决方案能成的方案绕过网络抽风核心思路换源重试手动构建我们将采用一种更稳定更可控的方法来构建环境方法一使用国内镜像源加速拉取默认从国外拉取镜像速度慢且不稳定我们可以配置使用国内的镜像加速器配置守护进程右键点击任务栏的图标选择在左侧找到菜单在右侧的配置窗口中找到或添加项填入以下国内常用的镜像源可以多试几个中国科技大学网易百度点击会保存配置并重启再次执行拉取命令配置重启后重新打开您的窗口再次执行这次速度应该会有显著提升如果其中一个镜像源不稳定请尝试修改为另一个然后重启再试方法二备用方案手动构建镜像如果换源后仍然无法拉取说明该镜像的所有国内缓存可能都有问题我们直接自己动手从一个纯净的镜像开始一步步安装所需环境这虽然看起来步骤多但成功率是在您的目录下创建一个新文件命名为没有后缀用记事本或打开将以下内容复制进去使用一个更小的官方镜像作为基础设置工作目录关键步骤更换源为清华大学源以加速后续包下载安装库及其核心依赖如等设置容器启动时自动进入构建您自己的镜像在中确保位于目录然后执行以下命令注意最后有一个点表示当前目录这个过程的意义它会在本地直接从官方镜像开始使用国内的源一步步安装库由于是分步下载多个小包即使中断再次构建也会继续而不会全部重来成功率远高于拉取一个巨大的现成镜像使用您自己构建的镜像启动容器构建成功后您就拥有了一个名为的本地镜像现在用它来启动容器命令和之前几乎一样方法三从网盘上下载将链接中的压缩包下载到本地之后运行如下代码加载完成后运行就能看到这个镜像然后就可以直接使用之前运行的命令来启动容器了进入容器后怎么做无论您通过第一步还是第二步成功进入了容器看到提示符接下来的步骤都是一样的而且非常简单图片成功进入容器截图总结请优先尝试第一步的换源方案如果不行第二步的手动构建方案是能走通的因为它将一个大问题分解成了无数个可以断点续传的小问题您已经非常接近成功了祝您好运准备本地目录在电脑上创建文件夹用来存放代码和图片例如在此文件夹中放入一张测试图片重命名为创建一个名为的文件内容如下启动容器并挂载目录在终端中导航到刚创建的目录然后运行启动命令进入目录启动容器并将当前目录挂载到容器的进入成功后会进入容器内部的提示符变为推理测试普通检测预定义类别运行脚本执行过程代码会自动从的服务器下载模型文件下载完成后模型会对进行推理结果会显示在屏幕上并自动保存到同一目录下名为行人检测自定义类别修改脚本用编辑器修改本地目录下的文件在行之前加入设置自定义类别的代码内容如下就是这行新代码再次运行脚本执行过程模型不会重新下载而是直接使用之前下载好的权重将检测的词汇表设置为只包含行人这一类模型将只检测图片中的行人并忽略所有其他物体结果保存为覆盖上一次的结果配置与使用环境在您的主机系统上安装这是最关键的基础步骤目的是让有能力识别并使用您主机上的显卡操作如下确认基础环境确保您的主机系统或已安装最新版的显卡驱动程序确保引擎已安装并正在运行安装对于系统如请在终端中依次执行以下命令添加的软件包仓库密钥和源更新软件包列表并安装工具包对于系统您需要先安装和发行版如然后在的环境中执行上述版的安装命令配置运行时安装完成后执行以下命令来配置使用作为默认运行时验证环境在主机终端不是在容器里运行以下命令如果安装成功您将看到一个显示您型号驱动版本版本及当前运行进程的表格这个命令能运行成功是后续所有步骤的基础完成这一步您就为容器使用打下了坚实的基础接下来您就可以使用命令来启动支持的容器了这是打开加速大门的钥匙请务必确保这一步成功完成使用支持的命令启动容器请使用以下新命令来启动容器别忘了替换您的本地路径进入您的项目目录替换为您的实际目录例如对应的路径核心改动加入了参数这个参数告诉将主机所有的资源暴露给这个容器使用或者使用一个确定存在的更新的镜像标签请在你的终端中尝试以下命令测试命令使用一个标准且常见的标签图片测试命令执行截图以上是正常且积极的进度提示说明您的环境配置正确并且正在按预期工作情况解读正常工作的标准流程检测镜像首先在您本地电脑的镜像仓库中查找这个镜像开始下载因为本地没有所以自动连接到官方仓库开始下载这个镜像分层下载镜像由多个层组成截图中的等行显示的是这些层的下载进度有的层已经完成有的正在下载这是标准的分层下载过程总结您发出的命令已成功触发去获取运行所需的环境系统正在自动配置请耐心等待下载完成接下来会发生什么当所有层下载完毕后会自动创建一个新的容器按照的设定将您的资源分配给这个容器在容器内部执行命令您将在终端里看到一个熟悉的信息表格和您之前在中直接运行的结果类似命令执行完毕后容器会按参数的要求自动清理退出只要最后能显示出信息表格就证明您的与的集成配置大功告成请您耐心等待命令执行完成即可如果下载速度较慢属于网络问题与您的配置无关使用运行您的脚本首先确认您的本地项目文件位置请检查您的文件资源管理器确认项目文件是否在目录中且包含脚本文件测试图片重新启动容器并正确挂载目录在终端中执行以下命令请替换为您的实际路径重要说明在中访问的盘需要使用路径前缀验证目录挂载进入容器后立即检查是否成功挂载应该能看到您的脚本和图片文件列表执行测试确认文件存在后运行您的测试脚本路径映射关系总结路径中对应的路径容器内路径查看结果所有操作完成后在本地电脑的挂载目录中可以找到以下文件下载的模型权重文件原始测试图片结果图片上面画着模型检测出的边界框和标签打开即可查看模型的检测结果图片检测结果示例将移动到盘的操作方法好的将的发行版从盘迁移到盘是一个常见且有效的释放系统盘空间的方法官方提供了非常简单的命令来完成这个操作请严格按照以下步骤执行整个过程非常安全迁移步骤首先终止所有实例在开始操作前确保或其他发行版没有在后台运行以管理员身份打开或命令提示符运行这条命令会终止所有正在运行的发行版查看已安装的发行版及其存放位置在中运行以下命令查看你安装的发行版的确切名称输出结果会显示所有发行版及其状态请记下你的发行版的准确名称例如或将目标发行版导出到一个备份文件注意此命令会将你的整个系统包括所有设置文件已安装的软件和项目打包成一个文件请将替换为上一步中你记下的名称例如并指定一个盘上的路径和文件名如例如这个过程需要一些时间请耐心等待直到命令完成注销卸载原来的发行版警告此操作会删除盘上的原始发行版文件但因为你已经完成了备份所以数据是安全的',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2025-10-14 00:46:24',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Hexo</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> Search</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://b9edaf4.webp.li/docs/1760373391091.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://b9edaf4.webp.li/docs/1760373391091.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://b9edaf4.webp.li/docs/1760373275745.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://b9edaf4.webp.li/docs/1760373275745.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> Newest Comments</span></div><div class="aside-list"><span>loading...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">October 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">September 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">August 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">July 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">June 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" itemprop="url">计算机视觉</a></span><span class="article-meta tags"></span></div></div><h1 class="post-title" itemprop="name headline">YOLO-World Docker 环境配置与使用指南</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-10-12T16:00:00.000Z" title="Created 2025-10-13 00:00:00">2025-10-13</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-10-13T16:46:24.953Z" title="Updated 2025-10-14 00:46:24">2025-10-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="YOLO-World Docker 环境配置与使用指南"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">Post View:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为郑州"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>郑州</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://b9edaf4.webp.li/docs/1760373772666.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"><header><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" itemprop="url">计算机视觉</a><h1 id="CrawlerTitle" itemprop="name headline">YOLO-World Docker 环境配置与使用指南</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">John Doe</span><time itemprop="dateCreated datePublished" datetime="2025-10-12T16:00:00.000Z" title="Created 2025-10-13 00:00:00">2025-10-13</time><time itemprop="dateCreated datePublished" datetime="2025-10-13T16:46:24.953Z" title="Updated 2025-10-14 00:46:24">2025-10-14</time></header><h1 id="YOLO-World-Docker-环境配置与使用指南"><a href="#YOLO-World-Docker-环境配置与使用指南" class="headerlink" title="YOLO-World Docker 环境配置与使用指南"></a>YOLO-World Docker 环境配置与使用指南</h1><blockquote>
<p>作者：zzy-swimming<br>指导：</p>
</blockquote>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol>
<li>#前言</li>
<li>#查看电脑状况</li>
<li>#核心概念与软件清单<ul>
<li>#3.1-所需软件组件</li>
<li>#3.2-为什么需要-wsl-2</li>
</ul>
</li>
<li>#安装与配置wsl2<ul>
<li>#4.1-启用-wsl-和虚拟机平台功能</li>
<li>#4.2-安装-linux-发行版</li>
<li>#4.3-安装-wsl-2-linux-内核更新包</li>
<li>#4.4-将-wsl-2-设置为默认版本</li>
<li>#4.5-检查当前wsl状态</li>
</ul>
</li>
<li>#安装-docker-desktop<ul>
<li>#5.1-前提条件</li>
<li>#5.2-下载安装程序</li>
<li>#5.3-安装过程</li>
<li>#5.4-验证安装</li>
<li>#5.5-配置国内镜像加速器</li>
</ul>
</li>
<li>#使用-docker-复现-yolo-world<ul>
<li>#6.1-拉取-ultralytics-镜像</li>
<li>#6.2-准备本地目录</li>
<li>#6.3-启动容器并挂载目录</li>
<li>#6.4-cpu推理测试</li>
</ul>
</li>
<li>#配置与使用gpu环境<ul>
<li>#7.1-在您的主机系统上安装nvidia-container-toolkit</li>
<li>#7.2-验证gpu环境</li>
<li>#7.3-使用支持gpu的docker命令启动容器</li>
<li>#7.4-使用gpu运行您的yolo-world脚本</li>
</ul>
</li>
<li>#查看结果</li>
<li>#ps将ubuntu移动到f盘的操作方法</li>
</ol>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><p>本文档详细介绍了在 Windows 系统上配置 YOLO-World 所需的环境和依赖。通过使用 Docker 和 WSL 2，您可以快速搭建一个稳定、高效的深度学习环境，避免复杂的本地环境配置问题。</p>
<h2 id="2-查看电脑状况"><a href="#2-查看电脑状况" class="headerlink" title="2. 查看电脑状况"></a>2. 查看电脑状况</h2><p>深度学习的训练对于电脑显卡要求较高，若电脑没有独立显卡（NVIDIA卡）或者是AMD的显卡无法使用GPU进行训练，需用CPU进行训练，会慢很多。若不清楚电脑有无显卡可以打开任务管理器，点击性能往下找GPU，就可以看到是否有独立显卡，不清楚是否为独立显卡则搜索型号。</p>
<h2 id="3-核心概念与软件清单"><a href="#3-核心概念与软件清单" class="headerlink" title="3. 核心概念与软件清单"></a>3. 核心概念与软件清单</h2><h3 id="3-1-所需软件组件"><a href="#3-1-所需软件组件" class="headerlink" title="3.1 所需软件组件"></a>3.1 所需软件组件</h3><p><strong>一、系统功能组件（Windows 功能）</strong></p>
<ul>
<li>Windows Subsystem for Linux (WSL)：用于在 Windows 上运行 Linux 环境的核心功能。</li>
<li>虚拟机平台 (Virtual Machine Platform)：WSL 2 依赖的底层虚拟化功能。</li>
</ul>
<p><strong>二、核心软件</strong></p>
<ul>
<li>一个 Linux 发行版 (Linux Distribution)：例如从 Microsoft Store 安装的 Ubuntu (推荐 LTS 版本，如 22.04)。</li>
<li>WSL 2 Linux 内核更新包 (wsl_update_x64.msi)：确保 WSL 2 正常运行的微软官方内核补丁。</li>
<li>Docker Desktop for Windows：管理和运行 Docker 容器的主要软件。</li>
</ul>
<h3 id="3-2-为什么需要-WSL-2"><a href="#3-2-为什么需要-WSL-2" class="headerlink" title="3.2 为什么需要 WSL 2"></a>3.2 为什么需要 WSL 2</h3><p>在现代 Windows 系统上运行 Docker 有两种传统模式：</p>
<ul>
<li>Docker Toolbox（已废弃）：基于 VirtualBox 虚拟机，性能差，体验不佳</li>
<li>Hyper-V 后端：使用 Windows 的 Hyper-V 虚拟化技术创建轻量级 Linux VM</li>
</ul>
<p>现在，Docker Desktop 官方强烈推荐并默认使用 WSL 2 作为后端，原因如下：</p>
<p><strong>性能巨大提升：</strong></p>
<ul>
<li>文件系统访问：在 WSL 2 中，对绑定挂载的 Windows 文件的读写速度远超传统的 Hyper-V VM 模式</li>
<li>启动时间：WSL 2 的启动几乎是瞬时的</li>
</ul>
<p><strong>更好的资源集成：</strong></p>
<ul>
<li>WSL 2 可以更智能地与 Windows 共享 CPU、内存和存储资源</li>
</ul>
<p><strong>无缝体验：</strong></p>
<ul>
<li>可以在 Windows 终端和 WSL 2 的 Linux 终端之间无缝切换</li>
</ul>
<h2 id="4-安装与配置WSL2"><a href="#4-安装与配置WSL2" class="headerlink" title="4. 安装与配置WSL2"></a>4. 安装与配置WSL2</h2><h3 id="4-1-启用-WSL-和虚拟机平台功能"><a href="#4-1-启用-WSL-和虚拟机平台功能" class="headerlink" title="4.1 启用 WSL 和虚拟机平台功能"></a>4.1 启用 WSL 和虚拟机平台功能</h3><p>以管理员身份打开 Windows PowerShell 或命令提示符(CMD)，运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启用&quot;Windows Subsystem for Linux&quot;功能</span></span><br><span class="line">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用&quot;虚拟机平台&quot;功能（WSL 2的核心要求）</span></span><br><span class="line">dism.exe /enable-feature /online /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure>

<p>完成后，按照提示重启电脑。</p>
<blockquote>
<p><strong>注意</strong>：您注意到没有重启提示，这是因为您使用了 <code>/norestart</code>参数。这个参数的作用是：<br><code>/norestart</code> &#x3D; “不重启” (No Restart)<br>这个参数明确告诉系统：”完成这个操作后，不要自动重启电脑”</p>
</blockquote>
<p>完成后，<strong>手动重启电脑</strong>。</p>
<h3 id="4-2-安装-Linux-发行版"><a href="#4-2-安装-Linux-发行版" class="headerlink" title="4.2 安装 Linux 发行版"></a>4.2 安装 Linux 发行版</h3><ol>
<li>打开 Microsoft Store 应用</li>
<li>搜索 “Ubuntu”（或 “Debian” 等其他发行版）</li>
<li>选择最新的 Ubuntu LTS 版本（例如 Ubuntu 22.04 LTS），点击”获取”或”安装”</li>
<li>安装完成后，从开始菜单启动它，设置 UNIX 用户名和密码</li>
</ol>
<h3 id="4-3-安装-WSL-2-Linux-内核更新包"><a href="#4-3-安装-WSL-2-Linux-内核更新包" class="headerlink" title="4.3 安装 WSL 2 Linux 内核更新包"></a>4.3 安装 WSL 2 Linux 内核更新包</h3><ol>
<li>访问微软官方下载页面：<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package">https://docs.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package</a></li>
<li>下载并运行 <code>wsl_update_x64.msi</code>安装程序</li>
<li>按照提示完成安装</li>
</ol>
<blockquote>
<p><strong>问题一</strong>：实际操作中，我把安装Linux发行版这一步骤忘记了，在安装WSL2 Linux内核更新包时，出现了如下图所示的报错。</p>
<p>[图片: WSL2内核更新包安装错误截图]</p>
<p><strong>错误原因</strong>：我跳过了安装 WSL 发行版的步骤，直接尝试安装 WSL 2 内核更新包。但系统检测到您还没有安装任何 WSL 发行版（如 Ubuntu），所以拒绝安装更新。</p>
</blockquote>
<h3 id="4-4-将-WSL-2-设置为默认版本"><a href="#4-4-将-WSL-2-设置为默认版本" class="headerlink" title="4.4 将 WSL 2 设置为默认版本"></a>4.4 将 WSL 2 设置为默认版本</h3><p>打开 PowerShell（无需管理员权限），输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-default-version 2</span><br></pre></td></tr></table></figure>

<p>此命令会告诉系统，以后任何新安装的 Linux 发行版都默认使用 WSL 2。</p>
<h3 id="4-5-检查当前WSL状态"><a href="#4-5-检查当前WSL状态" class="headerlink" title="4.5 检查当前WSL状态"></a>4.5 检查当前WSL状态</h3><p>在PowerShell中运行以下命令，查看当前的WSL配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查WSL状态和版本</span></span><br><span class="line">wsl --status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出已安装的发行版</span></span><br><span class="line">wsl --list --verbose</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>问题二</strong>：在实际操作过程中，我跳过了WSL2更新包，直接进入下一步安装 Docker Desktop。</p>
<p>因为我的系统显示 <code>默认版本：2</code>，这证明 WSL 2 已经成功启用。可能的情况是：</p>
<ul>
<li>Windows 更新已经自动安装了所需的组件</li>
<li>或者 Docker Desktop 安装程序会自动处理剩余依赖</li>
</ul>
<p>目前我仍未可知跳过WSL2更新包的具体原因。</p>
</blockquote>
<h2 id="5-安装-Docker-Desktop"><a href="#5-安装-Docker-Desktop" class="headerlink" title="5. 安装 Docker Desktop"></a>5. 安装 Docker Desktop</h2><h3 id="5-1-前提条件"><a href="#5-1-前提条件" class="headerlink" title="5.1 前提条件"></a>5.1 前提条件</h3><ul>
<li>Windows 10 版本 2004 及以后或 Windows 11</li>
<li>开启 BIOS&#x2F;UEFI 中的虚拟化支持（Intel VT-x&#x2F;AMD-V）</li>
<li>确保开启 Hyper-V 和容器功能</li>
</ul>
<h3 id="5-2-下载安装程序"><a href="#5-2-下载安装程序" class="headerlink" title="5.2 下载安装程序"></a>5.2 下载安装程序</h3><p>访问 Docker 官网的 Desktop 下载页面：<br><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">https://www.docker.com/products/docker-desktop/</a></p>
<p>下载 Docker Desktop for Windows 安装程序</p>
<p><strong>选择 AMD64 还是 ARM64 版本的 Docker Desktop</strong>，完全取决于您电脑的CPU 处理器架构。绝大多数 Windows 电脑都使用 AMD64 架构。</p>
<p>要最准确地确认，您可以：</p>
<ol>
<li>按下 <code>Win + R</code>键</li>
<li>输入 <code>cmd</code>并按下回车，打开命令提示符</li>
<li>在黑色的命令提示符窗口中，输入并执行：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> %PROCESSOR_ARCHITECTURE%</span><br></pre></td></tr></table></figure>

<p>查看输出结果：</p>
<ul>
<li>如果显示 <code>AMD64</code> → 请下载 AMD64 版本。</li>
<li>如果显示 <code>ARM64</code> → 请下载 ARM64 版本。</li>
</ul>
<h3 id="5-3-安装过程"><a href="#5-3-安装过程" class="headerlink" title="5.3 安装过程"></a>5.3 安装过程</h3><ol>
<li>双击下载好的 <code>Docker Desktop Installer.exe</code></li>
<li>按照安装向导的提示进行，所有选项保持默认即可</li>
<li>安装完成后，重启电脑</li>
</ol>
<h3 id="5-4-验证安装"><a href="#5-4-验证安装" class="headerlink" title="5.4 验证安装"></a>5.4 验证安装</h3><ol>
<li>重启后，在开始菜单中找到并运行”Docker Desktop”</li>
<li>等待 Docker 服务启动（系统托盘会出现一只鲸鱼图标）</li>
<li>打开命令提示符(CMD)或 PowerShell，输入以下命令：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></table></figure>

<p>如果安装成功，它会返回 Docker 的版本号。</p>
<p><strong>验证WSL2和Docker环境是否正确</strong></p>
<p>在 PowerShell 里运行 <code>docker run hello-world</code>来测试。如果这个命令能成功运行并打印出 “Hello from Docker!”，就证明你的整WSL2和Docker环境是完全正常的。</p>
<h3 id="5-5-配置国内镜像加速器"><a href="#5-5-配置国内镜像加速器" class="headerlink" title="5.5 配置国内镜像加速器"></a>5.5 配置国内镜像加速器</h3><p>为了提升拉取镜像的速度，建议配置国内镜像源。</p>
<ol>
<li>右键点击任务栏的 Docker 图标，选择 Settings。</li>
<li>在左侧找到 Docker Engine菜单。</li>
<li>在右侧的配置窗口中，添加或修改 <code>registry-mirrors</code>项。填入以下国内镜像源之一：</li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span class="punctuation">,</span> <span class="comment">// 中国科技大学</span></span><br><span class="line">    <span class="string">&quot;https://hub-mirror.c.163.com&quot;</span><span class="punctuation">,</span>       <span class="comment">// 网易</span></span><br><span class="line">    <span class="string">&quot;https://mirror.baidubce.com&quot;</span>         <span class="comment">// 百度</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>点击 Apply &amp; Restart。Docker 会保存配置并重启。</li>
</ol>
<h2 id="6-使用-Docker-复现-YOLO-World"><a href="#6-使用-Docker-复现-YOLO-World" class="headerlink" title="6. 使用 Docker 复现 YOLO-World"></a>6. 使用 Docker 复现 YOLO-World</h2><h3 id="6-1-拉取-Ultralytics-镜像"><a href="#6-1-拉取-Ultralytics-镜像" class="headerlink" title="6.1 拉取 Ultralytics 镜像"></a>6.1 拉取 Ultralytics 镜像</h3><p>打开终端，执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull ultralytics/ultralytics:latest</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>问题三</strong>：由于网络问题导致的Docker镜像拉取失败。问题三，说白了，它就是科学上网的问题。你如果拥有自己稳定的科学上网的途径，直接通过那个途径就OK。我个人在尝试了两种方法之后，其实全都遇到了网络方面的问题。像方法一里面的他让你更换镜像。实际上呢，我在更换镜像过后，发现那个镜像依然存在问题。最终我之所以能成，还是因为有维多利亚大学官方提供的VPN。虽然这个VPN限速，但是我把我的电脑搁这儿跑了一上午，也是成功的把它下载下来了。</p>
<p>（鉴于这个网络问题有点抽象，我把我下载下来的文件上传到one drive上面了，别人可以直接下载。链接：<a target="_blank" rel="noopener" href="https://1drv.ms/f/c/1383ab78469327ac/ErHzib4j221FhN6I4nhFLyoB2XDStTJJolkQj7UT-UYUZg?e=sXkQGb%EF%BC%89">https://1drv.ms/f/c/1383ab78469327ac/ErHzib4j221FhN6I4nhFLyoB2XDStTJJolkQj7UT-UYUZg?e=sXkQGb）</a></p>
</blockquote>
<p><strong>问题三解决方案：能成的Docker方案：绕过网络抽风</strong></p>
<p>核心思路：换源+重试+手动构建。我们将采用一种更稳定、更可控的方法来构建Docker环境。</p>
<p><strong>方法一：使用国内镜像源加速拉取</strong></p>
<p>Docker默认从Docker Hub（国外）拉取镜像，速度慢且不稳定。我们可以配置使用国内的镜像加速器。</p>
<p>配置Daemon（守护进程）：</p>
<ol>
<li>右键点击任务栏的Docker图标，选择 Settings。</li>
<li>在左侧找到 Docker Engine菜单。</li>
<li>在右侧的配置窗口中，找到或添加 <code>registry-mirrors</code>项。填入以下国内常用的镜像源（可以多试几个）：</li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span class="punctuation">,</span> <span class="comment">// 中国科技大学</span></span><br><span class="line">    <span class="string">&quot;https://hub-mirror.c.163.com&quot;</span><span class="punctuation">,</span>       <span class="comment">// 网易</span></span><br><span class="line">    <span class="string">&quot;https://mirror.baidubce.com&quot;</span>         <span class="comment">// 百度</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>点击 Apply &amp; Restart。Docker会保存配置并重启。</li>
</ol>
<p>再次执行拉取命令：<br>配置重启后，重新打开您的CMD窗口，再次执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull ultralytics/ultralytics:latest</span><br></pre></td></tr></table></figure>

<p>这次速度应该会有显著提升。如果其中一个镜像源不稳定，请尝试修改为另一个，然后重启Docker再试。</p>
<p><strong>方法二：备用方案——手动构建镜像</strong></p>
<p>如果换源后仍然无法拉取，说明该镜像的所有国内缓存可能都有问题。我们直接自己动手，从一个纯净的Python镜像开始，一步步安装所需环境。这虽然看起来步骤多，但成功率是100%。</p>
<ol>
<li>在您的 <code>F:\yolo_world_demo</code>目录下，创建一个新文件，命名为 <code>Dockerfile</code>（没有后缀）。</li>
<li>用记事本或VS Code打开 Dockerfile，将以下内容复制进去：</li>
</ol>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用一个更小的官方Python镜像作为基础</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.9</span>-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置工作目录</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /workspace</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 关键步骤：更换pip源为清华大学源，以加速后续包下载</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装ultralytics库及其核心依赖（如PyTorch、OpenCV等）</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install ultralytics</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置容器启动时自动进入bash</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;/bin/bash&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>构建您自己的Docker镜像：<br>在CMD中，确保位于 <code>F:\yolo_world_demo</code>目录，然后执行以下命令。注意最后有一个点 <code>.</code>表示当前目录。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t my-yolo-world:latest .</span><br></pre></td></tr></table></figure>

<p>这个过程的意义：它会在本地直接从Python官方镜像开始，使用国内的pip源，一步步安装Ultralytics库。由于是分步下载多个小包，即使中断，再次构建也会继续，而不会全部重来。成功率远高于拉取一个巨大的现成镜像。</p>
<ol start="4">
<li>使用您自己构建的镜像启动容器：<br>构建成功后，您就拥有了一个名为 <code>my-yolo-world</code>的本地镜像。现在用它来启动容器，命令和之前几乎一样：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --<span class="built_in">rm</span> -v F:\yolo_world_demo:/workspace my-yolo-world:latest</span><br></pre></td></tr></table></figure>

<p><strong>方法三：从网盘上下载</strong></p>
<p>将链接中的压缩包下载到本地之后，运行如下代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i ultralytics-latest.tar</span><br></pre></td></tr></table></figure>

<p>加载完成后，运行 <code>docker images</code>就能看到这个镜像，然后就可以直接使用之前运行的命令来启动容器了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --<span class="built_in">rm</span> -v F:\yolo_world_demo:/workspace my-yolo-world:latest</span><br></pre></td></tr></table></figure>

<p><strong>进入容器后怎么做？</strong></p>
<p>无论您通过第一步还是第二步成功进入了容器（看到 <code>root@xxxx:/workspace#</code>提示符），接下来的步骤都是一样的，而且非常简单：</p>
<p>[图片: 成功进入容器截图]</p>
<p><strong>总结</strong>：请优先尝试第一步的换源方案，如果不行，第二步的手动构建方案是100%能走通的，因为它将一个大问题分解成了无数个可以断点续传的小问题。您已经非常接近成功了，祝您好运！</p>
<h3 id="6-2-准备本地目录"><a href="#6-2-准备本地目录" class="headerlink" title="6.2 准备本地目录"></a>6.2 准备本地目录</h3><p>在电脑上创建文件夹用来存放代码和图片，例如 <code>F:\yolo_world_demo</code>。</p>
<p>在此文件夹中：</p>
<ol>
<li>放入一张测试图片，重命名为 <code>bus.jpg</code></li>
<li>创建一个名为 <code>test_yolo_world.py</code>的文件，内容如下：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ultralytics <span class="keyword">import</span> YOLOWorld</span><br><span class="line"></span><br><span class="line"><span class="comment"># Initialize a YOLO-World model</span></span><br><span class="line">model = YOLOWorld(<span class="string">&#x27;yolov8s-world.pt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Execute inference with the YOLOv8s-world on the specified image</span></span><br><span class="line">results = model.predict(<span class="string">&#x27;bus.jpg&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Show results</span></span><br><span class="line">results[<span class="number">0</span>].show()</span><br><span class="line">results[<span class="number">0</span>].save(<span class="string">&quot;result.jpg&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="6-3-启动容器并挂载目录"><a href="#6-3-启动容器并挂载目录" class="headerlink" title="6.3 启动容器并挂载目录"></a>6.3 启动容器并挂载目录</h3><p>在终端中，导航到刚创建的目录，然后运行启动命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入目录</span></span><br><span class="line"><span class="built_in">cd</span> F:\yolo_world_demo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动容器，并将当前目录挂载到容器的 /workspace</span></span><br><span class="line">docker run -it --<span class="built_in">rm</span> -v <span class="variable">$&#123;PWD&#125;</span>:/workspace ultralytics/ultralytics:latest bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入workspace</span></span><br><span class="line"><span class="built_in">cd</span> /workspace</span><br></pre></td></tr></table></figure>

<p>成功后会进入容器内部的 Shell，提示符变为 <code>root@...:/workspace#</code>。</p>
<h3 id="6-4-CPU推理测试"><a href="#6-4-CPU推理测试" class="headerlink" title="6.4 CPU推理测试"></a>6.4 CPU推理测试</h3><h4 id="6-4-1-普通检测（预定义类别）"><a href="#6-4-1-普通检测（预定义类别）" class="headerlink" title="6.4.1 普通检测（预定义类别）"></a>6.4.1 普通检测（预定义类别）</h4><p>运行脚本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python test_yolo_world.py</span><br></pre></td></tr></table></figure>

<p><strong>执行过程：</strong></p>
<ul>
<li>代码会自动从 Ultralytics 的服务器下载 <code>yolov8s-world.pt</code>模型文件</li>
<li>下载完成后，模型会对 <code>bus.jpg</code>进行推理</li>
<li>结果会显示在屏幕上，并自动保存到同一目录下，名为 <code>result.jpg</code></li>
</ul>
<h4 id="6-4-2-行人检测（自定义类别）"><a href="#6-4-2-行人检测（自定义类别）" class="headerlink" title="6.4.2 行人检测（自定义类别）"></a>6.4.2 行人检测（自定义类别）</h4><p>修改脚本：<br>用编辑器修改本地目录下的 <code>test_yolo_world.py</code>文件，在 <code>model.predict</code>行之前，加入设置自定义类别的代码。内容如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ultralytics <span class="keyword">import</span> YOLOWorld</span><br><span class="line"></span><br><span class="line"><span class="comment"># Initialize a YOLO-World model</span></span><br><span class="line">model = YOLOWorld(<span class="string">&#x27;yolov8s-world.pt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define custom classes - 就是这行新代码！</span></span><br><span class="line">model.set_classes([<span class="string">&quot;person&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Execute inference with the YOLOv8s-world on the specified image</span></span><br><span class="line">results = model.predict(<span class="string">&#x27;bus.jpg&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Show results</span></span><br><span class="line">results[<span class="number">0</span>].show()</span><br><span class="line">results[<span class="number">0</span>].save(<span class="string">&quot;result.jpg&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>再次运行脚本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python test_yolo_world.py</span><br></pre></td></tr></table></figure>

<p><strong>执行过程：</strong></p>
<ul>
<li>模型不会重新下载，而是直接使用之前下载好的权重</li>
<li><code>model.set_classes([&quot;person&quot;])</code>将检测的词汇表设置为只包含 “person”（行人）这一类</li>
<li>模型将只检测图片中的行人，并忽略所有其他物体</li>
<li>结果保存为 <code>result.jpg</code>（覆盖上一次的结果）</li>
</ul>
<h2 id="7-配置与使用GPU环境"><a href="#7-配置与使用GPU环境" class="headerlink" title="7. 配置与使用GPU环境"></a>7. 配置与使用GPU环境</h2><h3 id="7-1-在您的主机系统上安装NVIDIA-Container-Toolkit"><a href="#7-1-在您的主机系统上安装NVIDIA-Container-Toolkit" class="headerlink" title="7.1 在您的主机系统上安装NVIDIA Container Toolkit"></a>7.1 在您的主机系统上安装NVIDIA Container Toolkit</h3><p>这是最关键的基础步骤，目的是让Docker有能力识别并使用您主机上的NVIDIA显卡。</p>
<p>操作如下：</p>
<p><strong>确认基础环境：</strong></p>
<ul>
<li>确保您的主机系统（Windows或Linux）已安装最新版的NVIDIA显卡驱动程序。</li>
<li>确保Docker引擎已安装并正在运行。</li>
</ul>
<p><strong>安装NVIDIA Container Toolkit：</strong></p>
<p>对于Linux系统（如Ubuntu），请在终端中依次执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加NVIDIA的软件包仓库密钥和源</span></span><br><span class="line">curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | <span class="built_in">sudo</span> gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg</span><br><span class="line">curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | sed <span class="string">&#x27;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g&#x27;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/sources.list.d/nvidia-container-toolkit.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新软件包列表并安装工具包</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get install -y nvidia-container-toolkit</span><br></pre></td></tr></table></figure>

<p>对于Windows系统：<br>您需要先安装WSL 2和Linux发行版（如Ubuntu）。然后在WSL 2的Linux环境中，执行上述Linux版的安装命令。</p>
<p><strong>配置Docker运行时：</strong><br>安装完成后，执行以下命令来配置Docker使用NVIDIA作为默认运行时：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nvidia-ctk runtime configure --runtime=docker</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure>

<h3 id="7-2-验证GPU环境"><a href="#7-2-验证GPU环境" class="headerlink" title="7.2 验证GPU环境"></a>7.2 验证GPU环境</h3><p>在主机终端（不是在Docker容器里）运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure>

<p>如果安装成功，您将看到一个显示您GPU型号、驱动版本、CUDA版本及当前运行进程的表格。这个命令能运行成功，是后续所有步骤的基础。</p>
<p>完成这一步，您就为Docker容器使用GPU打下了坚实的基础。接下来，您就可以使用 <code>docker run --gpus all</code>命令来启动支持GPU的容器了。</p>
<p>这是打开GPU加速大门的钥匙，请务必确保这一步成功完成。</p>
<h3 id="7-3-使用支持GPU的Docker命令启动容器"><a href="#7-3-使用支持GPU的Docker命令启动容器" class="headerlink" title="7.3 使用支持GPU的Docker命令启动容器"></a>7.3 使用支持GPU的Docker命令启动容器</h3><h4 id="7-3-1-请使用以下新命令来启动容器（别忘了替换您的本地路径）："><a href="#7-3-1-请使用以下新命令来启动容器（别忘了替换您的本地路径）：" class="headerlink" title="7.3.1 请使用以下新命令来启动容器（别忘了替换您的本地路径）："></a>7.3.1 请使用以下新命令来启动容器（别忘了替换您的本地路径）：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 进入您的项目目录</span></span><br><span class="line"><span class="built_in">cd</span> /workspace</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 替换 `/your/local/path` 为您的实际目录，例如 F:\yolo_world_demo 对应的路径</span></span><br><span class="line">docker run -it --<span class="built_in">rm</span> --gpus all -v /your/local/path:/workspace ultralytics/ultralytics:latest bash</span><br></pre></td></tr></table></figure>

<p><strong>核心改动：</strong><br>加入了 <code>--gpus all</code>参数。这个参数告诉Docker，将主机所有的GPU资源暴露给这个容器使用。</p>
<h4 id="7-3-2-或者使用一个确定存在的、更新的-CUDA-镜像标签。请在你的-WSL-Ubuntu-终端中尝试以下命令："><a href="#7-3-2-或者使用一个确定存在的、更新的-CUDA-镜像标签。请在你的-WSL-Ubuntu-终端中尝试以下命令：" class="headerlink" title="7.3.2 或者使用一个确定存在的、更新的 CUDA 镜像标签。请在你的 WSL Ubuntu 终端中尝试以下命令："></a>7.3.2 或者使用一个确定存在的、更新的 CUDA 镜像标签。请在你的 WSL Ubuntu 终端中尝试以下命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试命令：使用一个标准且常见的标签</span></span><br><span class="line">docker run --<span class="built_in">rm</span> --runtime=nvidia --gpus all nvidia/cuda:12.0.0-base-ubuntu20.04 nvidia-smi</span><br></pre></td></tr></table></figure>

<p>[图片: Docker GPU测试命令执行截图]</p>
<p>以上是正常且积极的进度提示！说明您的 Docker GPU 环境配置正确，并且正在按预期工作。</p>
<p><strong>情况解读</strong></p>
<p>Docker 正常工作的标准流程：</p>
<ol>
<li>检测镜像：Docker 首先在您本地电脑的镜像仓库中查找 <code>nvidia/cuda:12.0.0-base-ubuntu20.04</code>这个镜像。</li>
<li>开始下载：因为本地没有（Unable to find image … locally），所以 Docker 自动连接到官方仓库（Docker Hub）开始下载（Pulling）这个镜像。</li>
<li>分层下载：Docker 镜像由多个”层”组成，截图中的 <code>5acbbc202509: Download complete</code>等行显示的是这些层的下载进度。有的层已经完成，有的正在下载。这是标准的分层下载过程。</li>
</ol>
<p><strong>总结</strong>：您发出的命令已成功触发 Docker 去获取运行所需的环境，系统正在自动配置，请耐心等待下载完成。</p>
<p><strong>接下来会发生什么</strong></p>
<p>当所有”层”下载完毕后，Docker 会自动：</p>
<ol>
<li>创建一个新的容器。</li>
<li>按照 <code>--gpus all</code>的设定，将您的 GPU 资源分配给这个容器。</li>
<li>在容器内部执行 <code>nvidia-smi</code>命令。</li>
</ol>
<p>您将在终端里看到一个熟悉的 GPU 信息表格（和您之前在 WSL 中直接运行 <code>nvidia-smi</code>的结果类似）。</p>
<p>命令执行完毕后，容器会按 <code>--rm</code>参数的要求自动清理退出。</p>
<p>只要最后能显示出 GPU 信息表格，就证明您的 Docker 与 GPU 的集成配置大功告成！</p>
<p>请您耐心等待命令执行完成即可。如果下载速度较慢，属于网络问题，与您的配置无关。</p>
<h3 id="7-4-使用GPU运行您的YOLO-World脚本"><a href="#7-4-使用GPU运行您的YOLO-World脚本" class="headerlink" title="7.4 使用GPU运行您的YOLO-World脚本"></a>7.4 使用GPU运行您的YOLO-World脚本</h3><p><strong>首先确认您的本地项目文件位置</strong></p>
<p>请检查您的Windows文件资源管理器，确认YOLO-World项目文件是否在 <code>F:\yolo_world_demo</code>目录中，且包含：</p>
<ul>
<li><code>test_yolo_world.py</code>脚本文件</li>
<li><code>bus.jpg</code>测试图片</li>
</ul>
<p><strong>重新启动Docker容器并正确挂载目录</strong></p>
<p>在WSL终端中执行以下命令（请替换为您的实际路径）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --<span class="built_in">rm</span> --gpus all -v /mnt/f/yolo_world_demo:/workspace ultralytics/ultralytics:latest bash</span><br></pre></td></tr></table></figure>

<p><strong>重要说明</strong>：在WSL中访问Windows的F盘，需要使用 <code>/mnt/f/</code>路径前缀。</p>
<p><strong>验证目录挂载</strong></p>
<p>进入容器后，立即检查是否成功挂载：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -la /workspace</span><br></pre></td></tr></table></figure>

<p>应该能看到您的Python脚本和图片文件列表。</p>
<p><strong>执行YOLO-World测试</strong></p>
<p>确认文件存在后，运行您的测试脚本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /workspace</span><br><span class="line">python test_yolo_world.py</span><br></pre></td></tr></table></figure>

<p><strong>路径映射关系总结</strong></p>
<ul>
<li>Windows路径: <code>F:\yolo_world_demo</code></li>
<li>WSL中对应的路径: <code>/mnt/f/yolo_world_demo</code></li>
<li>Docker容器内路径: <code>/workspace</code></li>
</ul>
<h2 id="8-查看结果"><a href="#8-查看结果" class="headerlink" title="8. 查看结果"></a>8. 查看结果</h2><p>所有操作完成后，在本地电脑的挂载目录中，可以找到以下文件：</p>
<ul>
<li><code>yolov8s-world.pt</code>：下载的模型权重文件</li>
<li><code>bus.jpg</code>：原始测试图片</li>
<li><code>result.jpg</code>：结果图片，上面画着模型检测出的边界框和标签</li>
</ul>
<p>打开 <code>result.jpg</code>，即可查看模型的检测结果。</p>
<p>[图片: YOLO-World检测结果示例]</p>
<h2 id="PS：将Ubuntu移动到F盘的操作方法"><a href="#PS：将Ubuntu移动到F盘的操作方法" class="headerlink" title="PS：将Ubuntu移动到F盘的操作方法"></a>PS：将Ubuntu移动到F盘的操作方法</h2><p>好的，将 WSL 2 的 Ubuntu 发行版从 C 盘迁移到 F 盘是一个常见且有效的释放系统盘空间的方法。官方提供了非常简单的命令来完成这个操作。</p>
<p>请严格按照以下步骤执行，整个过程非常安全。</p>
<p><strong>迁移步骤</strong></p>
<p><strong>1. 首先，终止所有 WSL 实例</strong></p>
<p>在开始操作前，确保 Ubuntu 或其他 WSL 发行版没有在后台运行。以管理员身份打开 Windows PowerShell 或命令提示符 (CMD)，运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure>

<p>这条命令会终止所有正在运行的 WSL 发行版。</p>
<p><strong>2. 查看已安装的 WSL 发行版及其存放位置</strong></p>
<p>在 PowerShell&#x2F;CMD 中运行以下命令，查看你安装的发行版的确切名称：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --list -v</span><br></pre></td></tr></table></figure>

<p>输出结果会显示所有发行版及其状态。请记下你的 Ubuntu 发行版的准确名称（例如 <code>Ubuntu</code>、<code>Ubuntu-20.04</code>或 <code>Ubuntu-22.04</code>）。</p>
<p><strong>3. 将目标发行版导出到一个备份文件</strong></p>
<p>注意：此命令会将你的整个系统（包括所有设置、文件、已安装的软件和项目）打包成一个文件。请将 <code>&lt;DistroName&gt;</code>替换为上一步中你记下的名称（例如 <code>Ubuntu-22.04</code>），并指定一个 F 盘上的路径和文件名（如 <code>F:\wsl-ubuntu-backup.tar</code>）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --<span class="built_in">export</span> &lt;DistroName&gt; F:\wsl-ubuntu-backup.tar</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --<span class="built_in">export</span> Ubuntu-22.04 F:\wsl-ubuntu-backup.tar</span><br></pre></td></tr></table></figure>

<p>这个过程需要一些时间，请耐心等待直到命令完成。</p>
<p><strong>4. 注销（卸载）原来的发行版</strong></p>
<p><strong>警告</strong>： 此操作会删除 C 盘上的原始发行版文件。但因为你已经完成了备份，所以数据是安全的。</p>
<pre><code class="language-bash">wsl --unregister
</code></pre>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1753699802187.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1753699802187.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">John Doe</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/')">YOLO-World Docker 环境配置与使用指南</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://b9edaf4.webp.li/docs/1760373391091.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1760373391091.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://b9edaf4.webp.li/docs/1760373275745.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1760373275745.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=YOLO-World Docker 环境配置与使用指南&amp;url=http://example.com/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/&amp;pic=https://b9edaf4.webp.li/docs/1760373772666.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"></div></div></div><div class="post_share"><div class="social-share" data-image="https://b9edaf4.webp.li/docs/1760373772666.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2025/09/25/YOLOv12%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1760373772666.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">YOLOv12环境配置</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1753699802187.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>Announcement</span></div><div class="announcement_content">欢迎来看我们团队的博客鸭~</div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://b9edaf4.webp.li/docs/1753773043749.jpg) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97"><span class="toc-text">YOLO-World Docker 环境配置与使用指南</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%89%8D%E8%A8%80"><span class="toc-text">1. 前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%9F%A5%E7%9C%8B%E7%94%B5%E8%84%91%E7%8A%B6%E5%86%B5"><span class="toc-text">2. 查看电脑状况</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E4%B8%8E%E8%BD%AF%E4%BB%B6%E6%B8%85%E5%8D%95"><span class="toc-text">3. 核心概念与软件清单</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%89%80%E9%9C%80%E8%BD%AF%E4%BB%B6%E7%BB%84%E4%BB%B6"><span class="toc-text">3.1 所需软件组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-WSL-2"><span class="toc-text">3.2 为什么需要 WSL 2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEWSL2"><span class="toc-text">4. 安装与配置WSL2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%90%AF%E7%94%A8-WSL-%E5%92%8C%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B3%E5%8F%B0%E5%8A%9F%E8%83%BD"><span class="toc-text">4.1 启用 WSL 和虚拟机平台功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%AE%89%E8%A3%85-Linux-%E5%8F%91%E8%A1%8C%E7%89%88"><span class="toc-text">4.2 安装 Linux 发行版</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%AE%89%E8%A3%85-WSL-2-Linux-%E5%86%85%E6%A0%B8%E6%9B%B4%E6%96%B0%E5%8C%85"><span class="toc-text">4.3 安装 WSL 2 Linux 内核更新包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E5%B0%86-WSL-2-%E8%AE%BE%E7%BD%AE%E4%B8%BA%E9%BB%98%E8%AE%A4%E7%89%88%E6%9C%AC"><span class="toc-text">4.4 将 WSL 2 设置为默认版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E6%A3%80%E6%9F%A5%E5%BD%93%E5%89%8DWSL%E7%8A%B6%E6%80%81"><span class="toc-text">4.5 检查当前WSL状态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%AE%89%E8%A3%85-Docker-Desktop"><span class="toc-text">5. 安装 Docker Desktop</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6"><span class="toc-text">5.1 前提条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F"><span class="toc-text">5.2 下载安装程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-text">5.3 安装过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E9%AA%8C%E8%AF%81%E5%AE%89%E8%A3%85"><span class="toc-text">5.4 验证安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E9%85%8D%E7%BD%AE%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E5%99%A8"><span class="toc-text">5.5 配置国内镜像加速器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BD%BF%E7%94%A8-Docker-%E5%A4%8D%E7%8E%B0-YOLO-World"><span class="toc-text">6. 使用 Docker 复现 YOLO-World</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E6%8B%89%E5%8F%96-Ultralytics-%E9%95%9C%E5%83%8F"><span class="toc-text">6.1 拉取 Ultralytics 镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%87%86%E5%A4%87%E6%9C%AC%E5%9C%B0%E7%9B%AE%E5%BD%95"><span class="toc-text">6.2 准备本地目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8%E5%B9%B6%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95"><span class="toc-text">6.3 启动容器并挂载目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-CPU%E6%8E%A8%E7%90%86%E6%B5%8B%E8%AF%95"><span class="toc-text">6.4 CPU推理测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-1-%E6%99%AE%E9%80%9A%E6%A3%80%E6%B5%8B%EF%BC%88%E9%A2%84%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%88%AB%EF%BC%89"><span class="toc-text">6.4.1 普通检测（预定义类别）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-2-%E8%A1%8C%E4%BA%BA%E6%A3%80%E6%B5%8B%EF%BC%88%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%88%AB%EF%BC%89"><span class="toc-text">6.4.2 行人检测（自定义类别）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8GPU%E7%8E%AF%E5%A2%83"><span class="toc-text">7. 配置与使用GPU环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E5%9C%A8%E6%82%A8%E7%9A%84%E4%B8%BB%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%8A%E5%AE%89%E8%A3%85NVIDIA-Container-Toolkit"><span class="toc-text">7.1 在您的主机系统上安装NVIDIA Container Toolkit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E9%AA%8C%E8%AF%81GPU%E7%8E%AF%E5%A2%83"><span class="toc-text">7.2 验证GPU环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E4%BD%BF%E7%94%A8%E6%94%AF%E6%8C%81GPU%E7%9A%84Docker%E5%91%BD%E4%BB%A4%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8"><span class="toc-text">7.3 使用支持GPU的Docker命令启动容器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-1-%E8%AF%B7%E4%BD%BF%E7%94%A8%E4%BB%A5%E4%B8%8B%E6%96%B0%E5%91%BD%E4%BB%A4%E6%9D%A5%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8%EF%BC%88%E5%88%AB%E5%BF%98%E4%BA%86%E6%9B%BF%E6%8D%A2%E6%82%A8%E7%9A%84%E6%9C%AC%E5%9C%B0%E8%B7%AF%E5%BE%84%EF%BC%89%EF%BC%9A"><span class="toc-text">7.3.1 请使用以下新命令来启动容器（别忘了替换您的本地路径）：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-2-%E6%88%96%E8%80%85%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E7%A1%AE%E5%AE%9A%E5%AD%98%E5%9C%A8%E7%9A%84%E3%80%81%E6%9B%B4%E6%96%B0%E7%9A%84-CUDA-%E9%95%9C%E5%83%8F%E6%A0%87%E7%AD%BE%E3%80%82%E8%AF%B7%E5%9C%A8%E4%BD%A0%E7%9A%84-WSL-Ubuntu-%E7%BB%88%E7%AB%AF%E4%B8%AD%E5%B0%9D%E8%AF%95%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-text">7.3.2 或者使用一个确定存在的、更新的 CUDA 镜像标签。请在你的 WSL Ubuntu 终端中尝试以下命令：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E4%BD%BF%E7%94%A8GPU%E8%BF%90%E8%A1%8C%E6%82%A8%E7%9A%84YOLO-World%E8%84%9A%E6%9C%AC"><span class="toc-text">7.4 使用GPU运行您的YOLO-World脚本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%9F%A5%E7%9C%8B%E7%BB%93%E6%9E%9C"><span class="toc-text">8. 查看结果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PS%EF%BC%9A%E5%B0%86Ubuntu%E7%A7%BB%E5%8A%A8%E5%88%B0F%E7%9B%98%E7%9A%84%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95"><span class="toc-text">PS：将Ubuntu移动到F盘的操作方法</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" title="YOLO-World Docker 环境配置与使用指南"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1760373772666.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="YOLO-World Docker 环境配置与使用指南"/></a><div class="content"><a class="title" href="/2025/10/13/YOLO-World-Docker-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" title="YOLO-World Docker 环境配置与使用指南">YOLO-World Docker 环境配置与使用指南</a><time datetime="2025-10-12T16:00:00.000Z" title="Created 2025-10-13 00:00:00">2025-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/25/YOLOv12%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="YOLOv12环境配置"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1760373772666.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="YOLOv12环境配置"/></a><div class="content"><a class="title" href="/2025/09/25/YOLOv12%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="YOLOv12环境配置">YOLOv12环境配置</a><time datetime="2025-09-24T16:00:00.000Z" title="Created 2025-09-25 00:00:00">2025-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/05/%E4%B8%89%E4%B8%8B%E4%B9%A1-%E6%8E%A2%E7%A7%98%E5%9C%9F%E9%A6%8D%E5%88%B6%E4%BD%9C-%E4%BB%A5%E6%99%BA%E6%97%85%E8%B5%8B%E8%83%BD%E4%B9%A1%E6%9D%91%E6%8C%AF%E5%85%B4/" title="三下乡 | 探秘土馍制作 以智旅赋能乡村振兴"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1757139387893.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="三下乡 | 探秘土馍制作 以智旅赋能乡村振兴"/></a><div class="content"><a class="title" href="/2025/09/05/%E4%B8%89%E4%B8%8B%E4%B9%A1-%E6%8E%A2%E7%A7%98%E5%9C%9F%E9%A6%8D%E5%88%B6%E4%BD%9C-%E4%BB%A5%E6%99%BA%E6%97%85%E8%B5%8B%E8%83%BD%E4%B9%A1%E6%9D%91%E6%8C%AF%E5%85%B4/" title="三下乡 | 探秘土馍制作 以智旅赋能乡村振兴">三下乡 | 探秘土馍制作 以智旅赋能乡村振兴</a><time datetime="2025-09-05T06:41:01.209Z" title="Created 2025-09-05 14:41:01">2025-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/05/%E4%BA%91%E8%BD%BD%E6%84%9A%E5%85%89%E7%BB%98%E4%B9%A1%E6%99%AF%EF%BC%8C%E5%AD%A6%E5%AD%90%E8%BA%AC%E8%A1%8C%E8%B0%B1%E6%96%B0%E7%AF%87/" title="云载愚光绘乡景，学子躬行谱新篇"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1757139846105.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="云载愚光绘乡景，学子躬行谱新篇"/></a><div class="content"><a class="title" href="/2025/09/05/%E4%BA%91%E8%BD%BD%E6%84%9A%E5%85%89%E7%BB%98%E4%B9%A1%E6%99%AF%EF%BC%8C%E5%AD%A6%E5%AD%90%E8%BA%AC%E8%A1%8C%E8%B0%B1%E6%96%B0%E7%AF%87/" title="云载愚光绘乡景，学子躬行谱新篇">云载愚光绘乡景，学子躬行谱新篇</a><time datetime="2025-09-05T06:35:28.222Z" title="Created 2025-09-05 14:35:28">2025-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/05/%E6%B8%85%E5%87%89%E4%B8%80%E5%A4%8F%EF%BD%9C%E5%BF%AB%E6%9D%A5%E6%9F%A5%E7%9C%8B%E8%BF%99%E4%BB%BD%E7%8E%8B%E5%B1%8B%E5%B1%B1%E6%97%85%E6%B8%B8%E6%94%BB%E7%95%A5%E5%90%A7/" title="清凉一夏｜快来查看这份王屋山旅游攻略吧"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://b9edaf4.webp.li/docs/1756406614930.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="清凉一夏｜快来查看这份王屋山旅游攻略吧"/></a><div class="content"><a class="title" href="/2025/08/05/%E6%B8%85%E5%87%89%E4%B8%80%E5%A4%8F%EF%BD%9C%E5%BF%AB%E6%9D%A5%E6%9F%A5%E7%9C%8B%E8%BF%99%E4%BB%BD%E7%8E%8B%E5%B1%8B%E5%B1%B1%E6%97%85%E6%B8%B8%E6%94%BB%E7%95%A5%E5%90%A7/" title="清凉一夏｜快来查看这份王屋山旅游攻略吧">清凉一夏｜快来查看这份王屋山旅游攻略吧</a><time datetime="2025-08-04T16:00:00.000Z" title="Created 2025-08-05 00:00:00">2025-08-05</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="John Doe" target="_blank">John Doe</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div><script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script><script>(function() {
  // 2. 从您的云托管服务获取签名
  fetch('https://express-g8ml-192989-4-1382735251.sh.run.tcloudbase.com?url=' + encodeURIComponent(window.location.href.split('#')[0]))
    .then(response => response.json())
    .then(function(signatureData) {
      if (signatureData.signature) {
        // 3. 配置JS-SDK (主要为了使用开放标签)
        wx.config({
          debug: false, // 生产环境务必设为false
          appId: signatureData.appId,
          timestamp: signatureData.timestamp,
          nonceStr: signatureData.nonceStr,
          signature: signatureData.signature,
          jsApiList: [], // 跳转小程序不需要JSAPI，留空即可
          openTagList: ['wx-open-launch-weapp'] // ✔️ 这个必须要有！
        });

        wx.ready(function () {
          console.log('配置成功，开放标签准备就绪');
        });

        wx.error(function (err) {
          console.error('配置失败: ', err);
        });
      }
    });
})();
</script><wx-open-launch-weapp id="launch-weapp-btn" username="gh_23985a23b4b0" path="pages/home/home"><script>var btn = document.getElementById('launch-weapp-btn');
btn.addEventListener('ready', function(e) {
  console.log('开放标签初始化成功');
});
btn.addEventListener('error', function(e) {
  console.error('开放标签初始化失败', e.detail);
});</script><div class="weapp-launch-btn" style="display: inline-block; padding: 12px 24px; background: #07C160; color: white; border-radius: 6px; cursor: pointer;">🚀 打开小程序</div></wx-open-launch-weapp></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">Articles</div><div class="length-num">11</div></a><a href="/tags/" title="tag"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/" title="category"><div class="headline">Categories</div><div class="length-num">2</div></a></div><span class="sidebar-menu-item-title">Function</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="Display Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>Display Mode</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 John Doe 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("04/01/2021 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg";
        img.title = "下班了就该开开心心的玩耍，嘿嘿~";
        img.alt = "下班了就该开开心心的玩耍，嘿嘿~";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>